<style>
  body { width: 650px; margin: 20px auto; font-family: arial; }
  textarea { height: 140px; background: #def; padding: 5px; width: 650px; font-family: monospace; overflow: hidden; }
  a.fork { float: right; background: #def; padding: 10px; }
  a.right { float: right; }
</style>
<a class=fork href=//github.com/xem/MiniSweeper>Fork me!</a>
<h1>MiniSweeper</h1>
<h2>A HTML/JS minesweeper in <span id=count></span> bytes</h2>
<b>Golfed by <a href=//twitter.com/MaximeEuziere>xem</a> and <a href=//twitter.com/subzey>Subzey</a></b>
<br>
<br>
<br>

<textarea id=minified></textarea>
<a class=right href=//raw.github.com/xem/MiniSweeper/gh-pages/src/annotated.html target=_blank>Annotated source</a>
<br>

<br>
<h2>Demo:</h2>
- Left click to reveal a cell and see how many bombs are around.
<br>
- Right click to set a flag where you believe there is a bomb.
<br>
- You lose if you reveal a bomb.
<br>
- You win when all the bombs are flagged.
<br>
<br>

<div id=demo></div>

<script src=//code.jquery.com/jquery-1.10.2.min.js></script>
<script>
  $(function(){
    $.ajax("src/raw.html?" + Math.random()).done(function(data){
      data=data.replace("\\u2691","\u2691") // Flag (1 char, 2 bytes)
               .replace("\\uD83D\\uDCA3","\uD83D\uDCA3") // Bomb (2 chars, 4 bytes)
               .replace("\\u2001\\u2002","\u2001\u2002"); // Space (2 chars, 4 bytes)
      $("#minified").text(data);
      $("#demo").html(data);
      $("#count").text(data.length + 5);
    });
  });
</script>